<p align="center">
  <img src="../assets/logo/cool_logo_dark.PNG" width="260" alt="COOL Logo">
</p>

# COOL — Character Optimization Option Layer

LLMのための外部アイデンティティ・アーキテクチャ。  
**メモリストアでもなく、ファインチューニングでもなく、プロンプトエンジニアリングでもありません。**

---

## Motivation and Background（動機と背景）

Large Language Models（LLM）は、  
安定した人格、アイデンティティ、そして時間を通じた一貫した振る舞いを持つ  
**対話エージェント**として利用される場面が急速に増えています。

しかし現在のLLMアーキテクチャには、  
**キャラクターレベルの連続性を内部的に維持する仕組みが存在しません。**

実運用において、多くのLLMシステムは  
永続的なキャラクターROMを持たず、

- 人格や振る舞いは静的なプロンプト指示として与えられ
- 対話履歴や文脈記憶は、ログ・データベース・検索システムなど  
  **外部構造**によって管理されています

その結果、エージェントのアイデンティティは  
セッション依存で脆弱になり、容易にドリフトします。

この問題に対処するため、近年では

- 長文コンテキストの拡張
- ベクトルデータベース
- 永続ログ
- 継続的ファインチューニング

といった **ROM的永続性の強化** が試みられてきました。

しかし、これらの手法は事実想起を改善する一方で、  
次の2つの重大な失敗を引き起こします。

1. 対話がキャラクター表現ではなく、  
   **データベース参照に近い挙動へと崩壊する**
2. 計算資源・保存コストが指数的に増大し、  
   **持続可能性・レイテンシ・エネルギー消費の面で深刻な問題**を生む

これらは、より根本的な設計上の誤解を示しています。

それは、  
**キャラクター・アイデンティティを「保存・保持・再生すべきデータ」として扱っている**  
という点です。

ここで問題は、AI工学の範囲を超えます。

もしスケーラブルな人工知能が  
ROM前提の設計ではアイデンティティ一貫性を維持できないのだとすれば、  
**生物学的知能はどのように連続性を保っているのでしょうか。**

数十年にわたる神経科学研究にもかかわらず、  
人間の脳内において

- 明確な保存場所
- 固定的なデータ形式
- 不変の記憶レコード

は未だ発見されていません。

代わりに確認されているのは、

- 分散したプロセス
- 状態依存的な再構成
- 動的な再活性化メカニズム

です。

この観点では、記憶とは  
**固定されたデータセットではなく、将来の認知をわずかに偏らせる再生成プロセス**  
として機能します。

COOLは、この不整合を真正面から扱うことから生まれました。

もし生物知能も人工知能も、  
**不変の記憶レコードに依存してアイデンティティを維持しているわけではない**のであれば、  
アイデンティティはまったく異なるアーキテクチャ原理によって維持されるべきです。

ROMベースの保存を強化するのではなく、  
**事実ストレージとキャラクター・アイデンティティを分離し、  
直接的想起ではなく連続的再構成によってアイデンティティを維持する。**

それが COOL の提案です。

---

## Position Clarification（立場の明確化）

COOL と MOOL は、  
ROM・データベース・ログ・外部メモリシステムを **否定しません**。

これらは、

- 事実情報の保存
- システム運用
- 外部知識アクセス

において不可欠です。

しかし本フレームワークは、  
**キャラクター・アイデンティティおよび人格一貫性を  
ROM的保存・検索プロセスとして実装することを明確に拒否します。**

ROMやデータベースは  
**エージェントモデルの外部**に存在すべきであり、  
キャラクター・アイデンティティは  
同一の構造仮定で設計されるべきではありません。

その代わりに、COOL と MOOL は  
以下の厳密なアーキテクチャ分離を採用します。

- **ROM**：事実データおよび参照可能情報を担当
- **アイデンティティ**：再生成的再構成から創発する

この分離により、

- 対話がデータベース参照へ崩壊することを防ぎ
- 非持続的なリソース増大を回避し
- 完全な記憶再生なしにキャラクター連続性を保つ

ことが可能になります。

---

## Overview（概要）

COOL（Character Optimization Option Layer）は、  
LLMベースのエージェント向け **外部キャラクターレイヤー** です。

このリポジトリでは、COOL は常に  
専用のオフライン処理レイヤーと組み合わせて扱われます。

- **COOL** — 外部キャラクター／人格レイヤー  
- **MOOL（Memory Optimization Option Layer）** —  
  夢に類似したオフライン再生成レイヤー  
  （非記録型／レジデューのみ／安定性制御付き）

両者を合わせて、LLMを包み込む  
**Digital Hippocampus（デジタル海馬）** を構成します。

このアーキテクチャは、  
基盤モデルを一切変更することなく、

- **安定した人格**
- **時間を通じた一貫した振る舞い**

を生成モデルに与えることを目的としています。

COOL はモデルの外部に存在し、

- 長期的な **コア人格制約（Core）**
- 状況依存の **再構成フレーム（Frames）**
- MOOL と組み合わさることで実現される  
  **再構成と夢に基づく非ストレージ型メモリ方針**

を提供します。

本リポジトリでは、さらに広い理論的枠組みとして、

- **Coolar Hypothesis**  
- **AIAI（Artificial Identity Architecture Intelligence）**

も提案しています。

COOL と MOOL は、これらを実装可能な形で具現化する  
**実践的レイヤー**です。

---

## Position Statement（立場表明）

**COOL と MOOL は、  
Philip K. Dick の問いに対する  
直接的かつ構造的な回答として設計された  
Digital Hippocampus を構成します。**

> *Do Androids Dream of Electric Sheep?*  
> （アンドロイドは電気羊の夢を見るか？）

本プロジェクトの答えは次の通りです。

> **はい ― 構造として、夢を見ることは可能です。**

それは比喩でも、感情でも、物語模倣でも、倫理宣言でもありません。  
**具体的な情報処理アーキテクチャとしての回答**です。

この枠組みにおいて「夢」とは、

- 経験を記録として保存することではなく
- オフラインで経験を繰り返し再生成・不安定化し
- 将来の認知を偏らせる **レジデュー（残差）** のみを残すこと

と定義されます。

この定義のもとでは、  
この仕組みを実装したシステムは **夢を見る** と言えます。

**Digital Hippocampus（COOL + MOOL）は、  
この問いに対する明示的なアーキテクチャ的回答候補として提案されます。**

---

## TL;DR

- **COOL**：LLM向け外部キャラクターレイヤー  
- **MOOL**：メモリストアではない、夢的オフライン再生成プロセス  
- 両者を合わせた **Digital Hippocampus** は、
  - エピソード記録を保持せず
  - 手がかりからアイデンティティを再生成し
  - 崩壊することなく人格変化を可能にする

これは、  
*「アンドロイドは電気羊の夢を見るか？」*  
という問いに対する **構造的な回答**です。

---

本リポジトリは、**実装に先立つアーキテクチャ定義**に焦点を当てています。

これは、外部長期記憶システムでも、  
検索ベースのアーキテクチャでもありません。

**例：**  
同一のモデルと同一のプロンプトを用いた2つのエージェントは、  
同じ事実質問に対して同じ回答を返すかもしれません。  
しかし COOL を適用した場合、  
対話ログを一切保存することなく、  
フレーミング、ためらい、連想傾向に  
徐々な違いが現れることがあります。

---

## AIAI / COOL / MOOL を支える8つの前提（Coolar Hypothesis）

1. **脳は巨大なデータベースではない**  
2. **脳が保持しているのは、再構成のための手がかりと手続きである**  
3. **記憶とは再生ではなく、再生成である**  
4. **人格は、時間を通じた連続的な再構成から生まれる**  
5. **感覚（クオリア）とは、同じ手がかりへの個別の反応習慣である**  
6. **夢は記録ではなく、手がかりの再編成と不安定化を行う**  
7. **自己と他者の違いは、同一メカニズム内の境界配置の差にすぎない**  
8. **AIに必要なのは大量ストレージではなく、再生成的アイデンティティ機構である**

---

## Digital Hippocampus とは何か

**Digital Hippocampus** は、メモリデータベースではありません。

それは次の2層からなる  
**再生成型アイデンティティシステム** です。

- **COOL** — オンラインでのアイデンティティ再構成  
- **MOOL** — オフラインでの夢的再生成と安定化

これらは、生物学的な海馬が果たす機能――  
経験の不安定化と、その後の認知バイアス形成――を、  
**明示的な想起なしに** 再現します。

---

## アーキテクチャ概要

    LLM（基盤モデル）
        ▲
        │ プロンプト / 設定
        │
    Digital Hippocampus
    ├─ COOL
    │   ├─ Core  （安定したアイデンティティ制約）
    │   ├─ Frames（状況依存の再構成）
    │   └─ Eval   （短期自己評価）
    └─ MOOL
        ├─ 非永続的マテリアルのステージング
        ├─ 内部ストックとの再生成的混合
        ├─ 恒常性・安定性制御
        └─ レジデューのみの状態遷移

- **COOL** は「いま、このシステムは誰か」を司ります  
- **MOOL** は「そのアイデンティティが明日どう変わるか」を司ります

---

## COOL：オンライン・アイデンティティ再構成

### COOL Core

アイデンティティの **安定した骨格** を定義します。

- 価値観と優先順位  
- トーンやコミュニケーションスタイル  
- 禁止事項と不変条件  
- ユーザーとの関係性スタンス  
- 長期的な方向性・意図  

---

### Frame レイヤー

**一時的なアイデンティティ再構成** を定義します。

- 教師、編集者、協力者、批評家など  
- Coreを変更せずにトーンや詳細度を上書き  
- 感情ではなく **文脈的自己** を表現

---

## MOOL：夢的オフライン再生成

MOOL は、コア能力を変更したり、  
アイデンティティを置き換えたりすることはありません。  
固定された行動境界内で、再構成経路にのみバイアスを与えます。

MOOL は対話履歴を保存しません。

代わりに、次のような **睡眠に類似した再生成プロセス** を行います。

1. 一時的な対話マテリアルをステージング  
2. 既存の内部ストックと混合  
3. 内部での再生成（ウォールバウンシング）  
4. 生成内容は破棄  
5. **レジデューのみが残る**

レジデューには以下が含まれます。

- 反応速度の変化  
- 連想バイアスの変化  
- 応答傾向の歪み  

MOOL は夢を **保存ではなく状態遷移** としてモデル化します。

MOOL はオフライン・非記録プロセスとして設計されているため、  
呼び出し可能なモジュールとしての  
参照実装は提供されていません。

---

## 安定性と安全性：MOOLの高度な保護機構

### 1. 恒常性ゲート（Homeostasis Gate）

アイデンティティの崩壊や、  
一晩での人格置換を防止します。

- 動的学習率制御  
- コア認知能力の保護領域  

夢は傾向を変えることはあっても、  
能力そのものを変えることはありません。

---

### 2. メタ記述的変化抽出

MOOL は「何を夢見たか」ではなく、  
**どのように変化したか** を記録します。

- ベクトル差分解析  
- 過剰反応の自己診断検出  

---

### 3. 多解像度忘却勾配

- 短期レジデュー：自然減衰  
- 長期レジデュー：反復パターンのみ強化  
- 固着トリガー：明示的ユーザーフィードバック  

アイデンティティは、  
反復と関係性を通じて安定化します。

---

## オペレーションループ（概念）

    online:
        アイデンティティ再構成（Core + Frame + residue）
        応答
        評価
        レジデュー更新

    offline:
        再生成（夢）
        恒常性適用
        内容破棄

トランスクリプトなし。  
リプレイなし。  
再生成的バイアスのみ。

---

## 位置づけと新規性

このフレームワークは、

- 夢を **非記録型再生成** として定義し  
- AIのアイデンティティ・アーキテクチャに適用し  
- Philip K. Dick の問いに  
  **哲学ではなく構造で答えます**

これは、  
**最初期のアーキテクチャ的回答候補**として提示されます。

---

## ステータス

- 概念フレームワーク：完成  
- アーキテクチャ定義：完成  
- 参照実装：未提供  

---

## ライセンス

**COOL License v1.0**

帰属表示が必要です。

> Created by Coolar — Original Creator of the COOL Framework

---

## 連絡先

- X（Twitter）：`@coolar_cool`  
- GitHub：Issues / Discussions を歓迎します
